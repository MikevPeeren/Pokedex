{"version":3,"sources":["api/PokemonApi.ts","components/PokemonCard.tsx","components/SearchForm.tsx","constants/searchform.ts","App.tsx","constants/general.ts","index.tsx"],"names":["PokemonCard","props","index","pokemon","key","className","alt","name","src","image","number","types","join","SearchForm","searchPokemonByName","pokemonInput","useRef","Form","Group","controlId","Label","Control","ref","type","placeholder","Button","variant","onClick","App","GET_POKEMON_INFO","amount","useState","pokemonSearchCount","setPokemonSearchCount","pokemonName","setPokemonName","length","gql","useQuery","data","loading","error","apiStatusClassNames","classnames","useEffect","handleScroll","windowHeight","window","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","max","scrollHeight","clientHeight","pageYOffset","addEventListener","removeEventListener","current","value","pokemons","map","random","cache","InMemoryCache","link","HttpLink","uri","client","ApolloClient","ReactDOM","render","getElementById"],"mappings":"k6BASO,I,gBC+BQA,G,YAxBiC,SAAAC,GAAU,IAChDC,EAAmBD,EAAnBC,MAAOC,EAAYF,EAAZE,QAEf,OACE,yBAAKC,IAAKF,EAAOG,UAAU,eACzB,yBACEA,UAAU,qBACVC,IAAG,UAAKH,EAAQI,MAChBC,IAAKL,EAAQM,QAEf,yBAAKJ,UAAU,qBACb,yBAAKA,UAAU,8BACb,0BAAMA,UAAU,kCACbF,EAAQO,OADX,MACsBP,EAAQI,MAE9B,0BAAMF,UAAU,kCACbF,EAAQQ,MAAMC,KAAK,Y,gBCcjBC,G,MA7B+B,SAAAZ,GAAU,IAC9Ca,EAAwBb,EAAxBa,oBAEFC,EAAeC,iBAAO,MAE5B,OACE,yBAAKX,UAAU,cACb,kBAACY,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKC,MAAN,CAAYC,UAAU,qBACpB,kBAACF,EAAA,EAAKG,MAAN,KC1BkB,qCD2BlB,kBAACH,EAAA,EAAKI,QAAN,CACEC,IAAKP,EACLQ,KAAK,OACLC,YC7BiB,sBDgCrB,kBAACC,EAAA,EAAD,CACEC,QAAQ,UACRC,QAAS,WACPb,EAAoBC,KClCV,cCiIPa,EA9GO,WAAO,IAIvBC,EJhBgCC,EA0BFvB,EIdR,EAC0BwB,mBAAS,IADnC,mBACnBC,EADmB,KACCC,EADD,OAEYF,mBAAS,IAFrB,mBAEnBG,EAFmB,KAENC,EAFM,KAMC,IAAvBD,EAAYE,QJQkB7B,EIPO2B,EAAvCL,EJQKQ,IAAP,IAEqB9B,KA7BeuB,EIoBUE,EAAzCH,EJnBEQ,IAAP,IAEsBP,IISI,MAUOQ,YAAST,GAAlCU,EAVkB,EAUlBA,KAAMC,EAVY,EAUZA,QAASC,EAVG,EAUHA,MAEjBC,EAAsBC,IAAW,6BAA8B,CACnE,oCACEF,GAAUF,GAAyB,OAAjBA,EAAKpC,UAG3ByC,qBAAU,WAOR,IAAMC,EAAe,WACnB,IAAMC,EACJ,gBAAiBC,OACbA,OAAOC,YACPC,SAASC,gBAAgBC,aAEzBC,EAAOH,SAASG,KAChBC,EAAOJ,SAASC,gBAEhBI,EAAYC,KAAKC,IACrBJ,EAAKK,aACLL,EAAKD,aACLE,EAAKK,aACLL,EAAKI,aACLJ,EAAKF,cAEcL,EAAeC,OAAOY,aAEvBL,GAClBrB,EAAsBD,EAAqB,KAM/C,OAFAe,OAAOa,iBAAiB,SAAUf,GAE3B,WACLE,OAAOc,oBAAoB,SAAUhB,MAEtC,CAACb,IAkBJ,OACE,yBAAK3B,UAAU,mBACb,yBAAKA,UAAU,+BACb,kBAAC,EAAD,CAAYS,oBAbU,SAACC,GAKvBA,EAAa+C,SAAW/C,EAAa+C,QAAQC,OAC/C5B,EAAepB,EAAa+C,QAAQC,YAUlCvB,GAAWC,GAAUF,GAAyB,OAAjBA,EAAKpC,UAClC,yBAAKE,UAAWqC,GACbF,GAAW,2BCjGC,cDkGZC,GACEF,GAAyB,OAAjBA,EAAKpC,SACZ,uBAAGE,UAAU,yCClGzB,wEDuGI,yBAAKA,UAAU,6BACZkC,GACCA,EAAKyB,UAELzB,EAAKyB,SAASC,KAAI,SAAC9D,EAAcD,GAAf,OAChB,kBAAC,EAAD,CACEE,IAAKmD,KAAKW,SACVhE,MAAOA,EACPC,QAASA,OAIdoC,GAAQA,EAAKpC,SACZ,kBAAC,EAAD,CACEC,IAAKmD,KAAKW,SACVhE,MAAO,IACPC,QAASoC,EAAKpC,a,gCE1GpBgE,EAAQ,IAAIC,IACZC,EAAO,IAAIC,IAAS,CACxBC,IAAK,oCAGDC,EAAS,IAAIC,IAAa,CAC9BN,QACAE,SAGFK,IAASC,OACP,kBAAC,IAAD,CAAgBH,OAAQA,GACtB,kBAAC,EAAD,OAEFvB,SAAS2B,eAAe,W","file":"static/js/main.7e89eeaa.chunk.js","sourcesContent":["// GraphQL\nimport gql from 'graphql-tag';\n\n/**\n * Search through the GraphQL database and find Pokemons by the Amount given.\n *\n * @param {number} amount\n * @returns {data: string; loading: string; error: string;}\n */\nexport const getPokemonGQLByAmount = (amount: number) => {\n  return gql`\n    {\n      pokemons(first: ${amount}) {\n        id\n        number\n        name\n        image\n        types\n        evolutions {\n          id\n          number\n          name\n          image\n        }\n      }\n    }\n  `;\n};\n\n/**\n * Search through the GraphQL database and find a Pokemon by its Name.\n *\n * @param {string} name\n * @returns {data: string; loading: string; error: string;}\n */\nexport const getPokemonGQLByName = (name: string) => {\n  return gql`\n    {\n      pokemon(name: \"${name}\") {\n        id\n        number\n        name\n        image\n        types\n        evolutions {\n          id\n          number\n          name\n          image\n        }\n      }\n    }\n  `;\n};\n","// React\nimport React from 'react';\n\n// CSS\nimport './PokemonCard.scss';\n\ninterface PokemonCardProps {\n  pokemon: {\n    number: string;\n    name: string;\n    image: string;\n    types: [];\n  };\n  index: string;\n}\n\nconst PokemonCard: React.FC<PokemonCardProps> = props => {\n  const { index, pokemon } = props;\n\n  return (\n    <div key={index} className=\"PokemonCard\">\n      <img\n        className=\"PokemonCard__image\"\n        alt={`${pokemon.name}`}\n        src={pokemon.image}\n      />\n      <div className=\"PokemonCard__body\">\n        <div className=\"PokemonCard__body--content\">\n          <span className=\"PokemonCard__body--pokemonName\">\n            {pokemon.number} - {pokemon.name}\n          </span>\n          <span className=\"PokemonCard__body--pokemonType\">\n            {pokemon.types.join(', ')}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PokemonCard;\n","// React\nimport React, { useRef } from 'react';\n\n// Bootstrap\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\n// CSS\nimport './SearchForm.scss';\n\n// Constants\nimport { SEARCH_LABEL, ENTER_POKEMON, SEARCH } from '../constants/searchform';\n\ninterface SearchFormProps {\n  searchPokemonByName: Function;\n}\n\nconst SearchForm: React.FC<SearchFormProps> = props => {\n  const { searchPokemonByName } = props;\n\n  const pokemonInput = useRef(null);\n\n  return (\n    <div className=\"SearchForm\">\n      <Form>\n        <Form.Group controlId=\"searchPokemonForm\">\n          <Form.Label>{SEARCH_LABEL}</Form.Label>\n          <Form.Control\n            ref={pokemonInput}\n            type=\"text\"\n            placeholder={ENTER_POKEMON}\n          />\n        </Form.Group>\n        <Button\n          variant=\"primary\"\n          onClick={() => {\n            searchPokemonByName(pokemonInput);\n          }}\n        >\n          {SEARCH}\n        </Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n","export const SEARCH_LABEL = 'Search for your favorite Pokemon.';\nexport const ENTER_POKEMON = 'Enter Pokemon...';\nexport const SEARCH = 'Search';\n","// React\nimport React, { useState, useEffect } from 'react';\n\n// Apollo\nimport { useQuery } from '@apollo/react-hooks';\n\n// Api\nimport { getPokemonGQLByAmount, getPokemonGQLByName } from './api/PokemonApi';\n\n// External\nimport classnames from 'classnames';\n\n// CSS\nimport './App.scss';\n\n// Components\nimport PokemonCard from './components/PokemonCard';\nimport SearchForm from './components/SearchForm';\n\n// Constants\nimport { LOADING, ERROR } from './constants/general';\nconst App: React.FC = () => {\n  const [pokemonSearchCount, setPokemonSearchCount] = useState(10);\n  const [pokemonName, setPokemonName] = useState('');\n\n  let GET_POKEMON_INFO;\n\n  if (pokemonName.length !== 0)\n    GET_POKEMON_INFO = getPokemonGQLByName(pokemonName);\n  else GET_POKEMON_INFO = getPokemonGQLByAmount(pokemonSearchCount);\n\n  const { data, loading, error } = useQuery(GET_POKEMON_INFO);\n\n  const apiStatusClassNames = classnames('PokemonOverview__apiStatus', {\n    'PokemonOverview__apiStatus--error':\n      error || (data && data.pokemon === null),\n  });\n\n  useEffect(() => {\n    /**\n     * This function will make a new API call when the bottom of the page is reached\n     *\n     * @param {void}\n     * @returns {void}\n     */\n    const handleScroll = () => {\n      const windowHeight =\n        'innerHeight' in window\n          ? window.innerHeight\n          : document.documentElement.offsetHeight;\n\n      const body = document.body;\n      const html = document.documentElement;\n\n      const docHeight = Math.max(\n        body.scrollHeight,\n        body.offsetHeight,\n        html.clientHeight,\n        html.scrollHeight,\n        html.offsetHeight,\n      );\n      const windowBottom = windowHeight + window.pageYOffset;\n\n      if (windowBottom >= docHeight) {\n        setPokemonSearchCount(pokemonSearchCount + 10);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return function cleanup() {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [pokemonSearchCount]);\n\n  /**\n   * Search for a specific Pokemon bu it's Name.\n   *\n   * @param pokemonInput\n   * @returns {void}\n   */\n  const searchPokemonByName = (pokemonInput: {\n    current: {\n      value: string;\n    };\n  }) => {\n    if (pokemonInput.current && pokemonInput.current.value) {\n      setPokemonName(pokemonInput.current.value);\n    }\n  };\n\n  return (\n    <div className=\"PokemonOverview\">\n      <div className=\"PokemonOverview__searchform\">\n        <SearchForm searchPokemonByName={searchPokemonByName} />\n      </div>\n\n      {(loading || error || (data && data.pokemon === null)) && (\n        <div className={apiStatusClassNames}>\n          {loading && <p>{LOADING}</p>}\n          {error ||\n            (data && data.pokemon === null && (\n              <p className=\"PokemonOverview__apiStatus--paragraph\">{ERROR}</p>\n            ))}\n        </div>\n      )}\n\n      <div className=\"PokemonOverview__pokemons\">\n        {data &&\n          data.pokemons &&\n          // @ts-ignore\n          data.pokemons.map((pokemon: any, index: string) => (\n            <PokemonCard\n              key={Math.random()}\n              index={index}\n              pokemon={pokemon}\n            ></PokemonCard>\n          ))}\n\n        {data && data.pokemon && (\n          <PokemonCard\n            key={Math.random()}\n            index={'0'}\n            pokemon={data.pokemon}\n          ></PokemonCard>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","export const HEADER_TEXT = 'PokeDex';\n\nexport const LOADING = 'Loading...';\nexport const ERROR =\n  'Something went wrong trying to find this Pokemon, Please try again.';\n","// React\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.scss';\n\n// Main App\nimport App from './App';\n\n// Apollo\nimport { ApolloClient } from 'apollo-client';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { HttpLink } from 'apollo-link-http';\nimport { ApolloProvider } from '@apollo/react-hooks';\n\nconst cache = new InMemoryCache();\nconst link = new HttpLink({\n  uri: 'https://graphql-pokemon.now.sh/',\n});\n\nconst client = new ApolloClient({\n  cache,\n  link,\n});\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}